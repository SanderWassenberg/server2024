<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/reset.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/fontawesome/css/fontawesome.min.css">
<link rel="stylesheet" href="/fontawesome/css/solid.min.css">
<script type="module" src="/js/modules/gdpr-popup.js"></script>
<script type="module" src="/js/modules/search.js"></script>
<title>Search</title>
</head>

<body class="flex-row-center">
	<div class="make-it-responsive-bordered flex-col">
		<div class="flex-col g20 p20">
			<div class="flex-row" style="justify-content: space-between; align-items: center;">
				<a href="/" class="icon-button" style="align-self: start;"><i class="fa-solid fa-house"></i></a>
				<h2 style="float: right;">Logged in as <span id="username" style="color: #0087ff;"></span></h2>
				<button id="otp_btn" style="float: right;">Enable 2FA</button>
			</div>

			<h1 style="margin-bottom: 0;">Search</h1>

			<form id="interest_form" method="dialog">
				<label for="interest_input">Your interest (so people can find you)</label>
				<div class="flex-row g20">
					<input required type="text" id="interest_input" name="interest_input" style="width: 100%; box-sizing: border-box;">
					<button id="update_interest_btn" type="submit" style="padding-top: 0; padding-bottom: 0;">Save</button>
				</div>
			</form>

			<form id="search_form" method="dialog">

				<label for="search_input">Search</label>
				<div class="flex-row g20">
					<input type="text" id="search_input" name="search_input" style="width: 100%; box-sizing: border-box;">
					<button id="search_btn" type="submit" style="padding-top: 0; padding-bottom: 0;">Search</button>
				</div>
			</form>
		</div>

		<p id="notif" style="align-self: center; color: red;"></p>


		<table class="search-table">
			<thead>
				<tr>
					<th>Chatter</th>
					<th>Interest</th>
					<th class="ban"><i class="fa-solid fa-ban"></i></th>
					<th class="chat"><i class="fa-solid fa-comment"></i></th>
				</tr>
			</thead>
			<tbody>
				<template><tr>
					<td data-field="username">pietje</td>
					<td data-field="interest">patat</td>
					<td class="ban"><i data-ban_user="" class="fa-solid fa-ban"></i></td>
					<td class="chat"><a href="/chat/?with=" ><i class="fa-solid fa-comment"></i></a></td>
				</tr></template>
			</tbody>
		</table>

		<div hidden id="search_spinner" class="spinner" style="align-self: center; width: 35px; margin-top: 20px"></div>

	</div>

	<popup-container>
		<gdpr-popup></gdpr-popup>
		<dialog id="otp_dialog" style="max-width: 400px;">
			<p>Scan this image in your 2FA app to add this site, then fill in the passcode it displays. Doing so will enable 2FA for your account. (ESC to close)</p>
			<img id="qr_img" style="width: -moz-available; width: -webkit-fill-available; image-rendering: pixelated;">
			<form method="dialog" class="flex-row-center" style="gap: 20px; flex-wrap: wrap;">
				<input id="otp_input" type="text">
				<button>Submit</button>
			</form>
		</dialog>
	</popup-container>
</body>
</html>